<!DOCTYPE html>
<html lang="en-GB">

<head>
    <script type="module" src="../js/define-customElements.js"></script>
    <script>
        const style = document.createElement("STYLE");
        style.innerHTML = "dashboard-element { visibility: hidden; }";
        document.head.appendChild(style);

        function toggleBodyPrettyClass() {
            document.body.classList.toggle("pretty");
        }

        function toggleDetailedClassForDashboardItemElements() {
            for (let el of document.querySelectorAll('dashboard-item-element')) el.classList.toggle('detailed');
        }

    </script>

    <style>
        .pretty * {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 10pt;
        }

        .pretty dashboard-item-element {
            box-shadow: 0 0 3px 0 silver;
            overflow: hidden;
        }

        .pending {
            --dashboard-highlight-color: #DEF;
        }

        .failed {
            --dashboard-highlight-color: #F00;
        }

        .succeeded {
            --dashboard-highlight-color: #0F0;
        }

        .pretty dashboard-item-element:not(.detailed) .icon {
            align-self: center;
        }

        .pretty dashboard-item-element:not(.detailed) header::before {
            content: " ";
            position: absolute;
            top: -21px;
            left: -21px;
            transform: rotateZ(45deg);
            width: 40px;
            height: 40px;
            align-self: center;
            background-color: var(--dashboard-highlight-color);
            box-shadow: inset 0 0 5px 2px silver;
        }

        .pretty dashboard-item-element.detailed {
            border-width: 0 0 0 5px;
            border-style: solid;
            border-color: var(--dashboard-highlight-color);
            box-shadow: none;
        }

        .pretty dashboard-item-element header {
            display: grid;
            grid-auto-rows: 1fr;
            grid-template-columns: 100%;
        }

        .pretty dashboard-item-element header>div {
            min-height: 0;
        }

        .pretty dashboard-item-element header div:first-of-type {
            display: flex;
            flex-direction: column;
        }
    </style>
    <link rel="stylesheet" href="../css/vanilla.css">
</head>

<body class="pretty">

    <button onclick="toggleBodyPrettyClass()">Toggle Pretty styling</button>
    <button onclick="toggleDetailedClassForDashboardItemElements()"> Toggle detailed class of items </button>

    <br><br>
    <dashboard-element>
        <dashboard-item-element data-title="Something very long and sinuous with spots on"
            data-states="pending,failed,succeeded" data-img="icon-dei.svg">
            <h1>This is some detail</h1>
        </dashboard-item-element>

        <dashboard-item-element data-title="Short" data-states="pending,failed,succeeded" data-state="failed"
            data-img="icon-gri.svg" data-img-alt="blah">
            <h1>This is some detail</h1>
        </dashboard-item-element>

        <dashboard-item-element data-title="A medium thing" data-states="pending,failed,succeeded"
            data-state="succeeded" data-img="icon-vel.svg">
            <h1>This is some detail</h1>
        </dashboard-item-element>
    </dashboard-element>


</body>

</html>